{"version":3,"sources":["webpack:///./jscript/app/fetchCountries.js","webpack:///./jscript/app/markup.js","webpack:///./jscript/templates/resultCountry.hbs","webpack:///./jscript/templates/resultCountryList.hbs"],"names":["fetchCountries","searchQuery","fetch","then","res","json","data","filter","item","query","array","toLowerCase","split","normalizedItem","resultArr","itm","includes","push","length","finder","name","debounce","require","markupRef","jsResult","document","querySelector","input","getElementById","countryList","addEventListener","e","target","value","innerHTML","map","resultCountryList","join","PNotify","error","text","resultCountry","catch","err","console","log","Handlebars","module","exports","template","container","depth0","helpers","partials","escapeExpression","lambda","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","call","capital","population","each","languages","program","noop","flag"],"mappings":"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","file":"main.f582625c8123e001108d.js","sourcesContent":["function finder(query, item) {\r\n  const array = query.toLowerCase().split('');\r\n  const normalizedItem = item.toLowerCase();\r\n  let resultArr = [];\r\n\r\n  for (const itm of array) {\r\n    if (normalizedItem.includes(itm)) {\r\n      resultArr.push(1);\r\n    }\r\n  }\r\n\r\n  if (resultArr.length === array.length) {\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\nexport default function fetchCountries(searchQuery) {\r\n  return fetch(\r\n    `https://restcountries.eu/rest/v2/name/${searchQuery}?fields=name;capital;population;languages;flag`,\r\n  )\r\n    .then(res => res.json())\r\n    .then(data => data.filter(item => finder(searchQuery, item.name)));\r\n}\r\n","import resultCountry from '../templates/resultCountry.hbs';\r\nimport resultCountryList from '../templates/resultCountryList.hbs';\r\nimport fetchCountries from './fetchCountries';\r\nimport PNotify from 'pnotify/dist/es/PNotify';\r\n\r\nconst debounce = require('lodash.debounce');\r\n\r\nconst markupRef = {\r\n  jsResult: document.querySelector('.js-result'),\r\n  input: document.getElementById('search-input'),\r\n  countryList: document.querySelector('.list-of-countries'),\r\n};\r\n\r\nfunction markup(e) {\r\n  const textInInput = e.target.value;\r\n\r\n  fetchCountries(textInInput)\r\n    .then(data => {\r\n      markupRef.jsResult.innerHTML = '';\r\n      markupRef.countryList.innerHTML = '';\r\n\r\n      if (data.length > 1 && data.length <= 10) {\r\n        markupRef.countryList.innerHTML = data\r\n          .map(item => resultCountryList(item))\r\n          .join('');\r\n        return;\r\n      }\r\n\r\n      if (data.length === 1) {\r\n        markupRef.jsResult.innerHTML = resultCountry(...data);\r\n        return;\r\n      }\r\n\r\n      return PNotify.error({\r\n        text: 'Too many matches found. Please enter a more specific query!',\r\n      });\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n      markupRef.countryList.innerHTML = '';\r\n      return PNotify.error({\r\n        text: 'No text in input. Please, write some letters!',\r\n      });\r\n    });\r\n}\r\n\r\nmarkupRef.input.addEventListener('input', debounce(markup, 500));\r\n","var Handlebars = require(\"../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"            <li class=\\\"country__languages-item\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.name : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<h2 class=\\\"country__name\\\"><b>\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":29},\"end\":{\"line\":1,\"column\":39}}}) : helper)))\n    + \"</b></h2>\\r\\n<div class=\\\"country\\\">\\r\\n    <div class=\\\"country__description-block\\\">\\r\\n        <p class=\\\"title\\\">\\r\\n            <b>Capital:</b><span class=\\\"country__capital-name\\\">\"\n    + alias4(((helper = (helper = helpers.capital || (depth0 != null ? depth0.capital : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"capital\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":63},\"end\":{\"line\":5,\"column\":76}}}) : helper)))\n    + \"</span>\\r\\n        </p>\\r\\n        <p class=\\\"title\\\">\\r\\n            <b>Population:</b><span class=\\\"country__population-amount\\\">\"\n    + alias4(((helper = (helper = helpers.population || (depth0 != null ? depth0.population : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"population\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":71},\"end\":{\"line\":8,\"column\":87}}}) : helper)))\n    + \"</span>\\r\\n        </p>\\r\\n        <p class=\\\"title\\\"><b>Languages:</b></p>\\r\\n        <ul class=\\\"country__languages-list\\\">\\r\\n\"\n    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.languages : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":12},\"end\":{\"line\":14,\"column\":21}}})) != null ? stack1 : \"\")\n    + \"        </ul>\\r\\n    </div>\\r\\n    <div class=\\\"country-image\\\">\\r\\n        <img class=\\\"flag\\\" src=\\\"\"\n    + alias4(((helper = (helper = helpers.flag || (depth0 != null ? depth0.flag : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"flag\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":31},\"end\":{\"line\":18,\"column\":41}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":48},\"end\":{\"line\":18,\"column\":58}}}) : helper)))\n    + \"\\\" />\\r\\n    </div>\\r\\n</div>\";\n},\"useData\":true});","var Handlebars = require(\"../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<li>\\r\\n    \"\n    + container.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":4},\"end\":{\"line\":2,\"column\":14}}}) : helper)))\n    + \"\\r\\n</li>\";\n},\"useData\":true});"],"sourceRoot":""}